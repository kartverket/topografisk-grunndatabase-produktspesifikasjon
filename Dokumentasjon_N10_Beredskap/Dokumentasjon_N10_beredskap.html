<!DOCTYPE html>
<html lang="nb">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<meta name="author" content="Kartverket">
<title>Dokumentasjon: N10 Beredskap</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child{border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active,#footnotes .footnote a:first-of-type:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Dokumentasjon: N10 Beredskap</h1>
<div class="details">
<span id="author" class="author">Kartverket</span><br>
<span id="revnumber">versjon 1.0,</span>
<span id="revdate">2024-12-02</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Innholdsfortegnelse</div>
<ul class="sectlevel1">
<li><a href="#_innledning_historikk_og_endringslogg">1. Innledning, historikk og endringslogg</a>
<ul class="sectlevel2">
<li><a href="#_innledning">1.1. Innledning</a></li>
<li><a href="#_historikk">1.2. Historikk</a></li>
</ul>
</li>
<li><a href="#_forvaltningsløsning">2. Forvaltningsløsning</a></li>
<li><a href="#_dataflyt">3. Dataflyt</a></li>
<li><a href="#_arealdekkeflate">4. <strong>ArealdekkeFlate</strong></a>
<ul class="sectlevel3">
<li><a href="#_innledning_2">4.1. Innledning</a></li>
<li><a href="#_problemstilling">4.2. Problemstilling</a>
<ul class="sectlevel4">
<li><a href="#_sekundær_og_primærkilder">4.2.1. Sekundær- og primærkilder</a></li>
<li><a href="#_eksemplet_skog">4.2.2. Eksemplet Skog</a></li>
<li><a href="#_ulik_definisjon">4.2.3. Ulik definisjon</a></li>
</ul>
</li>
<li><a href="#_kilder">4.3. Kilder</a>
<ul class="sectlevel4">
<li><a href="#_fkb_ar5">4.3.1. FKB - AR5</a></li>
</ul>
</li>
<li><a href="#_kode">4.4. Kode</a>
<ul class="sectlevel4">
<li><a href="#_modellgeneralisere_tg_n10_arealdekkeflate">4.4.1. Modellgeneralisere TG - N10 ArealdekkeFlate</a></li>
<li><a href="#_modifisering_og_tilpassninger_av_arealer">4.4.2. Modifisering og tilpassninger av arealer</a></li>
</ul>
</li>
<li><a href="#_setter_sammen_arealdekkeflate_fra_arealene">4.5. Setter sammen arealdekkeflate fra arealene</a></li>
</ul>
</li>
<li><a href="#_ledninger">5. <strong>Ledninger</strong></a>
<ul class="sectlevel2">
<li><a href="#_innledning_3">5.1. Innledning</a></li>
<li><a href="#_kilde">5.2. Kilde</a></li>
<li><a href="#_kode_2">5.3. Kode</a>
<ul class="sectlevel3">
<li><a href="#_generaliserig_av_ledninger">5.3.1. Generaliserig av ledninger</a></li>
</ul>
</li>
<li><a href="#_neste_versjon">5.4. Neste versjon</a></li>
</ul>
</li>
<li><a href="#_høydekurver_og_terrengpunkt">6. <strong>Høydekurver og terrengpunkt</strong></a>
<ul class="sectlevel3">
<li><a href="#_innledning_4">6.1. Innledning</a></li>
<li><a href="#_kilde_2">6.2. Kilde</a></li>
<li><a href="#_kode_3">6.3. Kode</a>
<ul class="sectlevel4">
<li><a href="#_siling_av_terrengpunkt">6.3.1. Siling av terrengpunkt</a></li>
</ul>
</li>
<li><a href="#_neste_versjon_2">6.4. Neste versjon</a></li>
</ul>
</li>
<li><a href="#_punkt_av_interesse">7. <strong>Punkt av interesse</strong></a>
<ul class="sectlevel3">
<li><a href="#_innledning_5">7.1. Innledning</a></li>
<li><a href="#_kilde_3">7.2. Kilde</a></li>
<li><a href="#_kode_4">7.3. Kode</a></li>
</ul>
</li>
<li><a href="#_restriksjonsområder">8. <strong>Restriksjonsområder</strong></a>
<ul class="sectlevel3">
<li><a href="#_allmenning">8.1. Allmenning</a></li>
<li><a href="#_flyplassavgrensning">8.2. Flyplassavgrensning</a></li>
<li><a href="#_naturvernområde">8.3. Naturvernområde</a></li>
<li><a href="#_skytefelt">8.4. Skytefelt</a></li>
<li><a href="#_kode_5">8.5. Kode:</a></li>
</ul>
</li>
<li><a href="#_samferdsel">9. <strong>Samferdsel</strong></a>
<ul class="sectlevel2">
<li><a href="#_bane">9.1. Bane</a>
<ul class="sectlevel3">
<li><a href="#_kilde_4">9.1.1. Kilde</a></li>
<li><a href="#_kode_6">9.1.2. Kode</a></li>
</ul>
</li>
<li><a href="#_snøskuterløype">9.2. Snøskuterløype</a>
<ul class="sectlevel3">
<li><a href="#_kilde_5">9.2.1. Kilde</a></li>
</ul>
</li>
<li><a href="#_jernbanestasjon">9.3. Jernbanestasjon</a>
<ul class="sectlevel3">
<li><a href="#_kilde_6">9.3.1. Kilde</a></li>
</ul>
</li>
<li><a href="#_veglenke">9.4. Veglenke</a>
<ul class="sectlevel3">
<li><a href="#_kilde_7">9.4.1. Kilde</a></li>
</ul>
</li>
<li><a href="#_vegsperring">9.5. Vegsperring</a>
<ul class="sectlevel3">
<li><a href="#_kilde_8">9.5.1. Kilde</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_stedsnavn">10. <strong>Stedsnavn</strong></a>
<ul class="sectlevel2">
<li><a href="#_innledning_6">10.1. Innledning</a></li>
<li><a href="#_dataflyt_ssr_til_n10b">10.2. Dataflyt SSR til N10B</a></li>
<li><a href="#_problemstillinger_knyttet_til_dataflyt_fra_ssr">10.3. Problemstillinger knyttet til dataflyt fra SSR</a></li>
<li><a href="#_resultatvurdering">10.4. Resultatvurdering</a></li>
<li><a href="#_kode_7">10.5. Kode</a></li>
</ul>
</li>
<li><a href="#_bygninger_og_anlegg">11. <strong>Bygninger og anlegg</strong></a>
<ul class="sectlevel2">
<li><a href="#_innledning_7">11.1. Innledning</a></li>
<li><a href="#_kilder_2">11.2. Kilder</a></li>
<li><a href="#_tilleggsbetingelser">11.3. Tilleggsbetingelser</a></li>
<li><a href="#_resultatvurdering_2">11.4. Resultatvurdering</a></li>
<li><a href="#_forslag_til_endring_i_produktspesifikasjonen">11.5. Forslag til endring i Produktspesifikasjonen</a></li>
<li><a href="#_kode_8">11.6. Kode</a>
<ul class="sectlevel3">
<li><a href="#_forslag_til_endring_i_kriterie_anleggslinje">11.6.1. Forslag til endring i kriterie Anleggslinje:</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><strong>Publisert</strong>: x<br></p>
</div>
</div>
</div>
<!-- toc disabled -->
</div>
</div>
<div class="sect1">
<h2 id="_innledning_historikk_og_endringslogg">1. Innledning, historikk og endringslogg</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_innledning">1.1. Innledning</h3>
<div class="paragraph">
<p>Dokumentet beskriver transformasjonen fra TG til N10 Beredskap. Dette gjelder; modellendringer, modell- og kartografisk generalisering.</p>
</div>
<div class="paragraph">
<p>N10 Beredskap er homogent landsdekkende topografisk kartprodukt med detaljering tilpasset visning i målestokk ca 1:10000. N10 Beredskap er utarbeidet spesielt med tanke på å dekke forsvarets behov og andre typer behov innenfor beredskap.</p>
</div>
<div class="paragraph">
<p>N10 Beredeskap er basert på Topografisk grunndatabase (TG). TG samler og strukturer primærdata fra FKB og andre kilder til et homogent datagrunnlag med et bredt bruksformål.</p>
</div>
</div>
<div class="sect2">
<h3 id="_historikk">1.2. Historikk</h3>
<div class="paragraph">
<p>Arbeidet med å spesifisere N10 Beredskap startet 2023. Datasettet skulle dekke behovet for en landsdekkende, homogen kartdatabase i stor målestokk. Arbeidet med første produktspesifikasjon var ett samarbeid mellom flere fagfelt; FKB, Kartprodukter, Datadelingsteamet, Standardisering og Sjø. Dokumentasjonen av metode brukt til å sammenstille data, vil være dokumentert i dette dokumentet.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Versjon</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dato</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Utførtav</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Merknad</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ida Hope Barth, Mika Sundin, Nils Ivar Nes, Arne Sonflå, Jon Endre Kirkholt, Christine Stang og Ådne Brandtzæg</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_forvaltningsløsning">2. Forvaltningsløsning</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_dataflyt">3. Dataflyt</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_arealdekkeflate">4. <strong>ArealdekkeFlate</strong></h2>
<div class="sectionbody">
<div class="paragraph">
<p>ArealdekkeFlate er sammenhengende og konsistent datasett som omfatter et spesefikt geografisk område uten hull eller overlapp mellom de ulike arealene.</p>
</div>
<div class="sect3">
<h4 id="_innledning_2">4.1. Innledning</h4>
<div class="paragraph">
<p>Per i dag finnes det ikke et arealdekke i stor målestokk som dekker hele Norge. For å etablere et landsdekkende arealdekke er det derfor nødvendig å benytte flere kilder. Disse kildene har ulike definisjoner av de aktuelle temaene, de er tilpasset forskjellige bruksområder, samt har varierende ajourhold og målestokk. Det har blitt gjort forsøk på å sammenstille disse dataene til ett samlet datasett. Det er imidlertid viktig å understreke at det resulterende arealdekket ikke vil være homogent, gitt de betydelige forskjellene i kildenes natur.</p>
</div>
</div>
<div class="sect3">
<h4 id="_problemstilling">4.2. Problemstilling</h4>
<div class="paragraph">
<p>Det er gjennomført en vurdering av flere kilder for å dekke behovet beskrevet i produktspesifikasjonen. De vurderte kildene inkluderer AR5, SR16, N50K, FKB Arealbruk, FKB Vann og SSB. Hensikten er å benytte de mest oppdaterte dataene tilgjengelig. Siden kildene har ulike avgrensninger, og et arealdekke for N10 Beredskap skal være ett sammenhengende datasett uten overlapp eller hull, er det nødvendig å klippe kildene mot hverandre i et hierarkisk system før de kan settes sammen. Flere metoder har blitt forsøkt for å bevare de kartdataene med høyest kvalitet, særlig med hensyn til oppdatering og detaljnivå. Det har imidlertid vist seg å være en utfordring å oppnå dette på en tilfredsstillende måte.</p>
</div>
<div class="sect4">
<h5 id="_sekundær_og_primærkilder">4.2.1. Sekundær- og primærkilder</h5>
<div class="paragraph">
<p>FKB - AR5 og N50K skiller seg fra de øvrige kildene ved at de representerer arealdekke, i motsetning til kun tematiske arealdata. FKB - AR5 har et høyere detaljnivå og er derfor valgt som førstevalget. Både N50K og FKB - AR5 består av en kombinasjon av sekundærkilder og primærkilder for ulike temaer. For eksempel omfatter FKB - AR5 ferskvann hentet fra FKB - Vann og samferdsel hentet fra FKB - Vei. Disse representerer sekundærkilder, og det foreligger et betydelig etterslep i ajourholdet av disse dataene sammenlignet med primærkildene FKB - Vann og FKB - Samferdsel. Dette innebærer at det eksisterer data av høyere kvalitet (fra FKB - Vann/Samferdsel), men disse er ikke integrert i et sammenhengende arealdekke (som FKB - AR5). Løsningen på kort sikt vil være å akseptere det eksisterende etterslepet i FKB - AR5, for å unngå potensielle feil knyttet til overlapp eller hull i det eksisterende arealdekket.</p>
</div>
<table style="background-color: #f0f0f0;">
  <tr>
    <td>Overlapp/gap problematikk</td>
  </tr>
  <tr>
    <td>Arealdekke består av en rekke ulike arealer med varierende tema, hvor overlapp eller hull mellom arealene ikke er akseptabelt. Når et enkelt areal skal oppdateres fra en annen kilde, kreves det at alle tilstøtende arealer i arealdekket også oppdateres. Denne prosessen er relativt enkel å gjennomføre manuelt, men medfører større utfordringer når det gjelder kvaliteten ved automatisk erstatning. Det finnes imidlertid eksisterende metoder og løsninger for å håndtere denne problematikken. Overlapp kan håndteres effektivt ved at et hierarkisk system bestemmer hvilke arealer som skal prioriteres før andre. Å håndtere hull er mer utfordrende, men det finnes verktøy som kan identifisere det arealet som har den lengste fellesgrensen med gapet, og deretter fylle gapet med informasjon fra det tilstøtende arealet.</td>
  </tr>
</table>
<div class="paragraph">
<p>I denne versjonen vil tematiske arealer ikke bli inkludert, selv om de er nyere enn de eksisterende arealene i N10 Beredskap. Konklusjonen er at det er nødvendig med mer tid for å sikre at løsningen har tilstrekkelig kvalitet, og at nye feil ikke oppstår.</p>
</div>
</div>
<div class="sect4">
<h5 id="_eksemplet_skog">4.2.2. Eksemplet Skog</h5>
<div class="paragraph">
<p>Det finnes tre potensielle kilder for skog i N10 Beredskap: AR5-skog, N50-skog og SR16-skog. Det er et ønske om å kunne klassifisere skog etter type, slik som i AR5 og SR16. Nibio, som har ansvaret for ajourholdet av både SR16 og AR5, har anbefalt bruk av SR16 fremfor AR5-skog på grunn av manglende oppdatering av skogdataene i AR5.</p>
</div>
<div class="paragraph">
<p>Her oppstår igjen problematikken knyttet til arealdekke og arealtema. AR5 og SR16 overlapper i betydelig grad, men det finnes en andel på 5 % av skogarealene i hver kilde som ikke overlapper. Det er imidlertid en vesentlig forskjell mellom N50K og SR16. Ved en overlapanalyse mellom N50K og SR16 viser det seg at kun 50 % av N50K overlapper med SR16. Årsaken til dette kan være forskjeller i definisjoner.</p>
</div>
</div>
<div class="sect4">
<h5 id="_ulik_definisjon">4.2.3. Ulik definisjon</h5>
<div class="paragraph">
<p>Brukerbehovene varierer for de kildene som danner grunnlaget for N10 Beredskap. N10 Beredskap er ment å brukes til topografi og ikke arealbruk. Det foreligger flere problemstillinger knyttet til bruken av kilder basert på arealbruk, fremfor arealer som er konstruert spesifikt for topografi.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="Bilder/Arealbruk_Topografi.png" alt="Arealbruk Topografi">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Eksempel Myr</strong><br>
Definisjonen av Myr i AR5 angir areal med myrvegetasjon og minst 30 cm tjukt torvlag. Denne definisjonen gjør at det vil være arealer av Myr, der vi vil oppfatte som skog.</p>
</li>
<li>
<p><strong>Eksempel Innmarksbeite</strong><br>
Definisjonen av Innmarksbeite i AR5 angir at Innmarksbeite også kan ligge i skog. Dette vil også være problematisk ved tanke på topografi.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_kilder">4.3. Kilder</h4>
<div class="sect4">
<h5 id="_fkb_ar5">4.3.1. FKB - AR5</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 66.6666%;">
<col style="width: 16.6668%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Kilde</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
<th class="tableblock halign-left valign-top">N10 Beredskap</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FKB - AR5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FKB-AR5 er eit Geovekst-datasett tilpassa målestokk 1:1000 og oppover, og viser arealressursane med vekt på produksjonsgrunnlaget for jord- og skogbruk. Det er eit detaljert, nasjonalt datasett, der landareal er delt inn etter arealtype, skogbonitet, treslag og grunnforhold.<br>
<br>
<strong>Det er viktig å påpeke at kilden har store områder som ikke er kartlagt og kan derfor ikke regnes som landsdekkende.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Myr<br>
Skog<br>
Åpen fastmark<br>
SnøIsbre<br>
Samferdsel<br>
Ferskvann<br>
DyrketMark<br>
Bebygd<br>
Hav</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 9.0909%;">
<col style="width: 27.2727%;">
<col style="width: 9.0909%;">
<col style="width: 27.2727%;">
<col style="width: 27.2728%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">AR5 modell</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
<th class="tableblock halign-left valign-top">N10 modell</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
<th class="tableblock halign-left valign-top">Kriterie</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Myr</strong><br>
<em>Arealtype 60</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Areal med myrvegetasjon og minst 30 cm tjukt torvlag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Myr</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">område med myrvegitasjon</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Myr som er større enn 2000 m² og bredere enn 10 meter skal med i N10 Beredskap.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Skog</strong><br>
<em>Arealtype 30</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Areal med minst 6 tre pr dekar som er eller kan bli 5 m høge, og som er jamt fordelt på arealet.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Skog</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Skog, delt inn i barskog, lauvskog og blandingsskog</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Skogområder som er større enn 800 m² og bredere enn 10 meter skal med i N10 Beredskap. Skog som dekker hele øyer som er mindre enn minstemålet for skog, tas også med.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Åpen fastmark</strong><br>
<em>Arealtype 50</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Areal som ikkje er myr, og heller ikkje er jordbruksareal, skog, bebygd eller samferdsel.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ÅpentOmråde</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Område som ikke er klassifisert som annet tema i henhold til gjeldende produktspesifikasjon</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Åpent område som er større enn 400 m² og bredere enn 5 meter skal med i N10 Beredskap. Åpent område som dekker hele øyer som er mindre enn minstemålet for åpent område skal med i N10 Beredskap</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Bebygd</strong><br>
<em>Arealtype 11</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Areal som er utbygd eller betydeleg opparbeida, samt tilstøytande areal som i funksjon er nært knytta til bygningane.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ÅpentOmråde</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Område som ikke er klassifisert som annet tema i henhold til gjeldende produktspesifikasjon</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Åpent område som er større enn 400 m² og bredere enn 5 meter skal med i N10 Beredskap. Åpent område som dekker hele øyer som er mindre enn minstemålet for åpent område skal med i N10 Beredskap</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>SnøIsbre</strong><br>
<em>Arealtype 70</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Isbre eller snø som ikkje smelter om sommaren.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SnøIsbre</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">grense mellom snø eller isbre og barmark der det er usikkert om det er isbre eller snø
Merknad: Masse av is og tettpakket snø som vesentlig ligger på land, der isen er i bevegelse, i motsetning til snømassen som ligger i ro. Isbre og snøfonn er slått sammen i definisjonen fordi det ofte kan være vanskelig å skille mellom dem.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Breer som er større enn 6 000 m² og bredere enn 20 meter skal med i Topografisk grunndatabase. Mindre isfrie områder beholdes dersom de er større enn 2 000 m² og bredere en 20 meter. Ett unntak fra regelen: Dersom terrengpunkt ligger på isfritt terreng, skal dette vises.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Samferdsel</strong><br>
<em>Arealtype 12</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Samferdsel: Vegar og jernbane</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Samferdsel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Samferdsel: Vegar og jernbane</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Areal Samferdsel er tatt med, for å slippe å håndtere kompliserte arealdeler i generaliseringen.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ferskvann</strong><br>
<em>Arealtype 81</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ferskvann: Innsjø</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Innsjø</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">En ferskvannsflate som ikke er renndende vann</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Innsjøer og øyer over 100 m² og bredere enn 3 meter skal med i Topografisk grunndatabase. Øyer i innsjø som er større enn 100 m² og bredere enn 3 meter skal med i Topografisk grunndatabase. Innsjøer over 2 500 m² skal være påført løpenummer for innsjø (vatnLøpenummer). For alle oppdemte og regulerte innsjøer der reguleringen er i drift kodes innsjøen med egenskapen Regulert. Det skal tilstrebes at alle innsjøer skal ha egenskapen høyde. Høyden skal angis i hele meter.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ferskvann</strong><br>
<em>Arealtype 81</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ferkvann: Elv</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Elv</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">større vannvei for rennende vann representert ved flate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Elver bredere enn 3 meter og lengre enn 10 meter danner elveflater (flater med vannBredde 3 - 5). Øy i elv som er større enn 100 m² og bredere enn 5 meter skal med i Topografisk grunndatabase.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Fulldyrka jord</strong><br>
<em>Arealtype 21</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Jordbruksareal som er dyrka til vanleg pløyedjupn, og kan nyttast til åkervekster eller til eng, og som kan fornyast ved pløying</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DyrketMark</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">område med jordbruksareal, som inbefatter fulldyrket og overflatedyrka jord.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dyrket mark som er større enn 500 m² og bredere enn 15 meter skal med i Topografisk grunndatabase. Dyrket mark som dekker hele øyer som er mindre enn minstemålet for dyrket mark, skal med i N10 Beredskap</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Overflatedyrka jord</strong><br>
<em>Arealtype 22</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Jordbruksareal som for det meste er rydda og jamna i overflata, slik at maskinell hausting er mulig</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DyrketMark</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">område med jordbruksareal, som inbefatter fulldyrket og overflatedyrka jord.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dyrket mark som er større enn 500 m² og bredere enn 15 meter skal med i Topografisk grunndatabase. Dyrket mark som dekker hele øyer som er mindre enn minstemålet for dyrket mark, skal med i N10 Beredskap</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Innmarksbeite</strong><br>
<em>Arealtype 23</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Jordbruksareal som kan brukast som beite, men som ikkje kan haustast maskinelt. Minst 50 % av arealet skal vere dekka av kulturgras og beitetålande urter.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Innmarksbeite</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Jordbruksareal som kan brukast som beite, men som ikkje kan haustast maskinelt. Minst 50 % av arealet skal vere dekka av kulturgras og beitetålande urter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Samme beskrivelse som AR5, på grunn av ønsket å skille ut innmarksbeidte fra annen jordbruk.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Hav</strong><br>
<em>Arealtype 82</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sjø og hav</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HavFlate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Havområde som avgrenses av Kystkontur</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Alle øyer som er større enn 100 m² og bredere enn 5 meter skal med i N10 Beredskap. Øyer under minstemålet kodes som skjær</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_kode">4.4. Kode</h4>
<div class="sect4">
<h5 id="_modellgeneralisere_tg_n10_arealdekkeflate">4.4.1. Modellgeneralisere TG - N10 ArealdekkeFlate</h5>
<div class="paragraph">
<p>Dette kapittelet inneholder en del endring av kildemodell til N10 Beredskap modell. Tilpassninger og endringer kommer i neste kapittel.</p>
</div>
<div class="paragraph">
<p><mark>AR5</mark></p>
</div>
<div class="paragraph">
<p><span class="red">Kildedata gjenngitt</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>AR5 = r"Y:\Kartografi\TG\Kilder\AR5\Basisdata_0000_Norge_25833_FKB-AR5_FGDB\Basisdata_0000_Norge_25833_FKB-AR5_FGDB.gdb\fkb_ar5_omrade"
editerbar_AR5 = Y</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">lager en kopi av AR5, slik at vi ikke editerer på orginalen.</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>arcpy.analysis.Select(AR5, editerbar_AR5)</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">Vi trenger å kode om verdiene i AR5 til gjeldene verdier i N10 - Beredskap. AR5 har objekttype, men denne oppdateres da med objekttype som skal brukes videre.</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>in_table = editerbar_AR5
update_field = ("arealtype","objtype")
with arcpy.da.UpdateCursor(in_table, update_field) as cursor:
    for row in cursor:
        a = row[0]
        if a == str(11):                         #Bebygde områder
            row[1] = 'ÅpentOmråde'
        elif a == str(81):                       #Ferskvann
            row[1] = 'Ferskvann'
        elif a == str(21):                       #Fulldyrka jord
            row[1] = 'Dyrketmark'
        elif a == str(82):                       #Hav
            row[1] = 'Hav'
        elif a == str(99):                       #Ikke Kartlagt
            row[1] = 'IkkeKartlagt'
        elif a == str(23):                       #Innmarksbeite
            row[1] = 'Innmarksbeite'
        elif a == str(60):                       #Myr
            row[1] = 'Myr'
        elif a == str(22):                       #Overflatedyrka jord
            row[1] = 'Dyrketmark'
        elif a == str(12):                       #Samferdsel
            row[1] = 'Samferdsel'
        elif a == str(30):                       #Skog
            row[1] = 'Skog'
        elif a == str(70):                       #Snøisbre
            row[1] = 'SnøIsbre'
        elif a == str(50):                       #Åpen fastmark
            row[1] = 'ÅpentOmråde'

        cursor.updateRow(row)</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">Selekterer alle tema som kun er aktuelle for N10 Beredskap</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>in_table = editerbar_AR5
lagring = X

update_field = ("objtype")
list = []
with arcpy.da.UpdateCursor(in_table, update_field) as cursor:
    for row in cursor:
        a = row[0]
        utvalg = 'objtype = ' + "'" + a + "'"
        if a in list:
            continue
        else:
            if a == str("ÅpentOmråde"):
                arcpy.analysis.Select(in_table, lagring + str(a) + "_AR5", utvalg)
            elif a == str("Innmarksbeite"):
                arcpy.analysis.Select(in_table, lagring + str(a) + "_AR5", utvalg)
            elif a == str("Dyrketmark"):
                arcpy.analysis.Select(in_table, lagring + str(a) + "_AR5", utvalg)
            elif a == str("Myr"):
                arcpy.analysis.Select(in_table, lagring + str(a) + "_AR5", utvalg)
            elif a == str("Samferdsel"):
                arcpy.analysis.Select(in_table, lagring + str(a) + "_AR5", utvalg)
            elif a == str("Skog"):
                arcpy.analysis.Select(in_table, lagring + str(a) + "_AR5", utvalg)
            elif a == str("Ferskvann"):
                arcpy.analysis.Select(in_table, lagring + str(a) + "_AR5", utvalg)
            elif a == str("Hav"):
                arcpy.analysis.Select(in_table, lagring + str(a) + "_AR5", utvalg)
            elif a == str("SnøIsbre"):
                arcpy.analysis.Select(in_table, lagring + str(a) + "_AR5", utvalg)
        list.append(a)
        cursor.updateRow(row)</pre>
</div>
</div>
<div class="paragraph">
<p><mark>N50K</mark></p>
</div>
<div class="paragraph">
<p><span class="red">Filepath N50K og AR5 ikke kartlagt</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>N50_arealdekkeflate = Y
N50_arealdekkeflate_editerbar = X
Omraade_ikke_kartlagt = r"Y:\Kartografi\TG\Kilder\AR5\Basisdata_0000_Norge_25833_FKB-AR5_FGDB\Basisdata_0000_Norge_25833_FKB-AR5_FGDB.gdb\AR5_ikke_kartlagt_forenklet"

arcpy.analysis.Select(N50_arealdekkeflate, N50_arealdekkeflate_editerbar)</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">Denne navner om alle objekttypene slik at de tilsvarer produktspesifikasjonen</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>N50_arealdekkeflate_editerbar = X
in_table = Z
update_field = ("subtypekode","objtype")
with arcpy.da.UpdateCursor(N50_arealdekkeflate_editerbar, update_field) as cursor:
    for row in cursor:
        a = row[0]
        a = str(a)
        if a == str(10):                             #Bymessigbebyggelse
            row[1] = "BymessigBebyggelse"
        elif a == str(3):                            #Innsjø
            row[1] = 'Innsjø'
        elif a == str(4):                            #ElvBekk
            row[1] = 'Elv'
        elif a == str(2):                            #Havflate
            row[1] = 'Havflate_N50'
        elif a == str(23):                           #Innsjøregulert
            row[1] = 'InnsjøRegulert'
        elif a == str(8):                            #Myr
            row[1] = 'Myr'
        elif a == str(21):                           #Rullebane
            row[1] = 'Rullebane'
        elif a == str(6):                            #Skog
            row[1] = 'Skog'
        elif a == str(9):                            #SnøIsbre
            row[1] = 'SnøIsbre'
        elif a == str(1):                            #ÅpentOmråde
            row[1] = 'ÅpentOmråde_N50'
        elif a == str(7):                            #DyrketMark
            row[1] = 'DyrketMark_N50'
        elif a == str(5):                            #FerskvannTørrfall
            row[1] = 'FerskvannTørrfall'
        else:
            row[1]= 'IkkeAktuelt'
        cursor.updateRow(row)</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">Klipper arealene etter omraade ikke_kartlagt i AR5.</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>N50_clip = A
arcpy.analysis.PairwiseClip(N50_arealdekkeflate_editerbar, Omraade_ikke_kartlagt, N50_clip)</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">N50 Arealdekke som skal dekke hele Norge, fordi objekttypen ikke eksisterer i AR5 eller at det er oppdaget hull i AR5 i etterkant og maa fylles AR5 omraadene</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>in_table = N50_clip
lagring = B
update_field = ("objtype")

#N50 Arealdekke som skal dekke hele Norge
list = []
with arcpy.da.UpdateCursor(N50_arealdekkeflate_editerbar, update_field) as cursor:
    for row in cursor:
        a = row[0]
        utvalg = 'objtype = ' + "'" + a + "'"
        if a in list:
            continue
        else:
            if a == str("BymessigBebyggelse"):
                arcpy.analysis.Select(N50_arealdekkeflate_editerbar, lagring + str(a) + "_N50K", utvalg)
            elif a == str("Rullebane"):
                arcpy.analysis.Select(N50_arealdekkeflate_editerbar, lagring + str(a) + "_N50K", utvalg)
            elif a == str("FerskvannTørrfall"):
                arcpy.analysis.Select(N50_arealdekkeflate_editerbar, lagring + str(a) + "_N50K", utvalg)
            elif a == str("SnøIsbre"):
                arcpy.analysis.Select(N50_arealdekkeflate_editerbar, lagring + str(a) + "_N50K", utvalg)
            elif a == str("Foss"):
                arcpy.analysis.Select(N50_arealdekkeflate_editerbar, lagring + str(a) + "_N50K", utvalg)
            elif a == str("Tregruppe"):
                arcpy.analysis.Select(N50_arealdekkeflate_editerbar, lagring + str(a) + "_N50K", utvalg)
            elif a == str("ÅpentOmråde_N50"):
                arcpy.analysis.Select(N50_arealdekkeflate_editerbar, lagring + str(a) + "_N50K_heldekkende", utvalg)
        list.append(a)
        cursor.updateRow(row)</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">Arealer som kun skal være i omraade AR5 ikke er kartlagt.</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>list = []
with arcpy.da.UpdateCursor(in_table, update_field) as cursor:
    for row in cursor:
        a = row[0]
        utvalg = 'objtype = ' + "'" + a + "'"
        if a in list:
            continue
        else:
            if a == str("ÅpentOmråde_N50"):
                arcpy.analysis.Select(in_table, lagring + str(a) + "_N50K", utvalg)
            elif a == str("Innsjø"):
                arcpy.analysis.Select(in_table, lagring + str(a) + "_N50K", utvalg)
            elif a == str("InnsjøRegulert"):
                arcpy.analysis.Select(in_table, lagring + str(a) + "_N50K", utvalg)
            elif a == str("Myr"):
                arcpy.analysis.Select(in_table, lagring + str(a) + "_N50K", utvalg)
            elif a == str("Tregruppe"):
                arcpy.analysis.Select(in_table, lagring + str(a) + "_N50K", utvalg)
            elif a == str("Elv"):
                arcpy.analysis.Select(in_table, lagring + str(a) + "_N50K", utvalg)
            elif a == str("Skog"):
                arcpy.analysis.Select(in_table, lagring + str(a) + "_N50K", utvalg)
            elif a == str("Havflate"):
                arcpy.analysis.Select(in_table, lagring + str(a) + "_N50K", utvalg)
            elif a == str("DyrketMark"):
                arcpy.analysis.Select(in_table, lagring + str(a) + "_N50K", utvalg)
        list.append(a)
        cursor.updateRow(row)</pre>
</div>
</div>
<div class="paragraph">
<p><mark>FKB-Arealbruk</mark></p>
</div>
<div class="paragraph">
<p><span class="red">Lagringsplass</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>FKB_arealbruk = X
FKB_arealbruk_Norge = r"Y:\Kartografi\TG\Kilder\FKB-Arealbruk\Basisdata_0000_Norge_5973_FKB-Arealbruk_FGDB.gdb\fkb_arealbruk_omrade"</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">Legger til toleranse og oppløsning</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>FKB_arealbruk_Norge = r"Y:\Kartografi\TG\Kilder\FKB-Arealbruk\Basisdata_0000_Norge_5973_FKB-Arealbruk_FGDB.gdb\fkb_arealbruk_omrade"
layer = r"C:\Users\hopida\Documents\ArcGIS\Projects\TG\TG_ferdig.gdb\ArealdekkeFlate\fkb_arealbruk_layer"
FKB_arealbruk_Norge_editerbar = r"C:\Users\hopida\Documents\ArcGIS\Projects\TG\TG_ferdig.gdb\ArealdekkeFlate\fkb_arealbruk"
arcpy.env.XYTolerance = "0.001 Meters"
arcpy.env.XYResolution = "0.0001 Meters"
where_clause = '"objtype" = \'Campingplass\' or "objtype" = \'Skytebane\''
arcpy.management.MakeFeatureLayer(FKB_arealbruk_Norge , layer)
arcpy.management.SelectLayerByAttribute(layer, "NEW_SELECTION", where_clause, "INVERT")
arcpy.management.CopyFeatures(layer, FKB_arealbruk_Norge_editerbar)</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">Endrer objektype til FKB_objekttype for å skille mellom hva som er FKB objektype og hva som er tilpasset N10</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre># Loop through feature classes looking for a field named 'objtype'
FKB_arealbruk_Norge_editerbar = r"C:\Users\hopida\Documents\ArcGIS\Projects\TG\TG_ferdig.gdb\fkb_arealbruk"
fieldList = arcpy.ListFields(FKB_arealbruk_Norge_editerbar)  # Get a list of fields for in_table
for field in fieldList:  # Lloop through each field
    if field.name.lower() == 'objtype':  # Look for the name objtype
        print('inne')
        arcpy.management.AlterField(FKB_arealbruk_Norge_editerbar, field.name, 'objtype_fkb', 'objtype_FKB')</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">Legger til egenskapen objektype på nytt i FKB.</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>arcpy.management.AddField(FKB_arealbruk_Norge_editerbar, "objtype", "TEXT")</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">Endrer noen av FKB_objekttype til tilpasset navn til N10, eller kopieres alle de andre objekttypene over i N10 objettype uten å endre på navnet</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>update_field = ("objtype_fkb","objtype")
with arcpy.da.UpdateCursor(FKB_arealbruk_Norge_editerbar, update_field) as cursor:
    for row in cursor:
        a = row[0]
        if a == str("Anleggsområde"):
            row[1] = "Massedeponi"
        elif a == str("Grustak"):
            row[1] = 'Masseuttak'
        elif a == str("Steintipp"):
            row[1] = 'Massedeponi'
        else:
            row[1] = a


        cursor.updateRow(row)</pre>
</div>
</div>
<div class="paragraph">
<p><mark>SSB - Tettbebyggelse</mark></p>
</div>
<div class="paragraph">
<p><span class="red">filepath for SSB Tettbebyggelse</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>SSB_tettbebyggelse = r"Y:\Kartografi\TG\Kilder\Tettsteder_2023_SSB\Befolkning_0000_Norge_25833_Tettsteder2023_FGDB.gdb\tettsted"
SSB_tettbebyggelse_editerbar = X</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">Lager en editerbar versjon av orginalen</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>arcpy.analysis.Select(SSB_tettbebyggelse, SSB_tettbebyggelse_editerbar)</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">Passer på at Toleranse og Oppløsning er som ønsket</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>arcpy.env.XYTolerance = "0.001 Meters"
arcpy.env.XYResolution = "0.0001 Meters"</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">Gjor om til objekttype og modell ønsket for N10 Beredskap</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>lstFields = arcpy.ListFields(SSB_tettbebyggelse_editerbar)

x = False

for field in lstFields:
    if field.name == "objtype":
        print ("Field exists")
        x = True

expression = "Tettbebyggelse"

if not x:
    print ("Field does not exist")
    arcpy.management.AddField(SSB_tettbebyggelse_editerbar, "objtype", "TEXT")
    arcpy.management.CalculateField(SSB_tettbebyggelse_editerbar, "objtype", "'Tettbebyggelse'", "PYTHON3")

if x:
    print ("Field exist")
    #arcpy.AssignDefaultToField_management(SSB_tettbebyggelse_editerbar, "objtype", "Tettbebyggelse")
    arcpy.management.CalculateField(in_table=SSB_tettbebyggelse_editerbar, field="objtype",  expression="'Tettbebyggelse'")</pre>
</div>
</div>
<div class="paragraph">
<p><mark>Omkoding av egenskaper og nye kolonner opprettes i henhold til produktspesifikasjon</mark></p>
</div>
<div class="paragraph">
<p><span class="red">Denne delen er kodet som et scripttool i ArcGIS Pro, men kan lett gjøres om ved å legge til filstier og for-løkke for å gå igjennom alle de objekter i arealdekkeflate.</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>import arcpy
arcpy.env.overwriteOutput=True

in_workspace = arcpy.GetParameterAsText(0)
out_workspace = arcpy.GetParameterAsText(2)
arcpy.env.workspace = in_workspace

fil_skal_endres = r"C:\Users\hopida\Documents\ArcGIS\Projects\TG\TG_ferdig.gdb\ArealdekkeFlate_TG"
fields = arcpy.ListFields(fil_skal_endres)
liste_field_check = []
for field in fields:
    f = field.name
    inn = f.upper()
    liste_field_check.append(inn)

liste = []
mal = r"C:\Users\hopida\Documents\ArcGIS\Projects\TG\TG_ferdig.gdb\Mal_egenskaper_arealdekke"
fields_mal = arcpy.ListFields(mal)
liste_mal_navn = []
for field in fields_mal:
    f = field.name
    inn = f.upper()
    liste_mal_navn.append(inn)
    if inn in liste_field_check:
        continue
    else:
        navn_1 = field.name
        navn = str(navn_1)
        liste.append(navn)
        typer = field.type
        if typer == 'String':
            typer = 'TEXT'
        if typer == 'Integer':
            typer = 'LONG'
        if typer == 'SmallInteger':
            typer = 'SHORT'
        liste.append(str(typer))
        lengde = field.length
        liste.append(navn)
        liste.append(lengde)
        arcpy.management.AddField(fil_skal_endres, navn, typer, "", "", lengde, navn, "", "","")
        liste = []</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_modifisering_og_tilpassninger_av_arealer">4.4.2. Modifisering og tilpassninger av arealer</h5>
<div class="paragraph">
<p><mark>Ferkvann til Elv, Innsjø.</mark></p>
</div>
<div class="paragraph">
<p><span class="red">Denne delen av koden henter FKB - Vann og der arealet også eksisterer i AR5, kodes objektypen i AR5 ferkvann til enten elv eller Innsjø. Der vi ikke har informasjon om arealet, blir objekttypen ferskvann. Bruker av datasettet kan velge å symbolisere ferkvann enten som innsjø eller elv.</span></p>
</div>
<div class="paragraph">
<p><span class="red">Filepath</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>FKB_vann =
AR5_vann =

FKB_vann_punkt =
AR5_spatialjoin =</pre>
</div>
</div>
<div class="paragraph">
<p>[.red]#Ferkvann i AR5 er en sekundærkilde, der FKB_vann_omrade er primærkilden. I AR5 er objekttypen ferkvann og skiller derfor ikke på elv eller innsjø som ønskes i N10 - Beredskap. På grunn av etterslep og mangelfull ajourhold i AR5, er det ca. 170 000 ferkvannarealer som ikke overlapper med primærkilden, det tilsvarer ca. 7 prosent av det totale antall ferkvannsobjekter i FKB AR5.</p>
</div>
<div class="paragraph">
<p><span class="red">gjør polygonet om til midtpunkt med informasjon fra arealet</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>arcpy.management.FeatureToPoint(FKB_vann, FKB_vann_punkt,"INSIDE")</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">Kjører en overlappanalyse og overfører informasjon om objekttype fra FKB-vann der det eksisterer overlapp mellom de to datasettene.</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>arcpy.analysis.SpatialJoin(AR5_vann, FKB_vann_punkt, AR5_spatialjoin)
arcpy.management.CalculateField(AR5_spatialjoin, "objtype", '!objtype_1!')</pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_setter_sammen_arealdekkeflate_fra_arealene">4.5. Setter sammen arealdekkeflate fra arealene</h4>
<div class="paragraph">
<p><span class="green">Legger alle arealene sammen i en gdb</span></p>
</div>
<div class="paragraph">
<p><span class="blue">Filepath</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>TG_arealdekke_mappe = \
Arealdekkeflate_N10_Beredskap_mal = \

x = datetime.datetime.now()
a = (x.strftime("%B"))
b = (x.strftime("%Y"))
z = a + b

Arealdekkeflate_N10_Beredskap = \arealdekkeFlate_{z}'</pre>
</div>
</div>
<div class="paragraph">
<p><span class="blue">Legger alle filene i mappen til en gdb</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>arcpy.analysis.Select(Arealdekkeflate_N10_Beredskap_mal, Arealdekkeflate_N10_Beredskap)

# Sti til geodatabasen (GDB)
gdb_sti = TG_arealdekke_mappe

# Sti til den tomme mål-fil (feature class) som skal brukes som target
target_feature_class = Arealdekkeflate_N10_Beredskap

# Set arcpy environment settings (valgfritt, men kan være nyttig for å håndtere stier og geodatabase-konflikter)
arcpy.env.workspace = gdb_sti
arcpy.env.overwriteOutput = True  # Hvis du ønsker å overskrive eksisterende filer

# Hent alle feature classes i GDB
feature_classes = arcpy.ListFeatureClasses()

# Iterere gjennom hver feature class og bruke Append for å legge data til mål-fil
for feature_class in feature_classes:
    # Sjekk at feature class ikke er den samme som mål-fil
    if feature_class != target_feature_class:
        print(f"Legger til data fra {feature_class} til {target_feature_class}")

        #Bruk append for å legge til data
        try:
            arcpy.Append_management(feature_class, target_feature_class, "NO_TEST")  # "NO_TEST" for å ikke sjekke om feltene stemmer
            print(f"Data fra {feature_class} er lagt til.")
        except Exception as e:
            print(f"Feil under append fra {feature_class}: {e}")

print("Ferdig med å legge til alle data.")</pre>
</div>
</div>
<div class="paragraph">
<p><span class="green">Hierarki</span></p>
</div>
<div class="paragraph">
<p>Sette sammen alle arealene til ett arealdekke, krever at vi setter opp ett hiararki for å fastsette hvilke kartobjekter som bestemmer hvor grensa skal gå.</p>
</div>
<div class="paragraph">
<p><span class="blue">Filepath</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>arealdekkeflate_innfil =</pre>
</div>
</div>
<div class="paragraph">
<p><span class="blue">Legger til en ny kolonne der hierarkiverdien skal ligge</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>arcpy.management.AddField(arealdekkeflate_innfil, "Hierarki", "LONG")</pre>
</div>
</div>
<div class="paragraph">
<p><span class="blue">Beregner hierarkiverdien, som danner grunnlaget for hva som skal klippes mot hva.</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>codeblock = """
def hirarki_maker(inn):
    if inn == 'Elv' or inn == 'Ferskvann' or inn == 'Innsjø' or inn == 'InnsjøRegulert' or inn == 'SnøIsbre' or inn == 'Havflate' or inn == 'Kanal' or inn == 'FerskvannTørrfall':
        return 1
    elif inn == 'Samferdsel' or inn == 'Havflate_N50':
        return 2
    elif inn == 'Alpinbakke' or inn == 'Campingplass' or inn == 'Golfbane' or inn == 'Gravplass' or inn == 'Industriområde' or inn == 'Lekeplass' or inn == 'Massedeponi' or inn == 'Masseuttak' or inn == 'Park' or inn == 'Rullebane' or inn == 'Skytebane' or inn == 'SportIdrettPlass' or inn == 'Transformatorstatjon':
        return 3
    elif inn == 'BymessigBebyggelse':
        return 4
    elif inn == 'Dyrketmark' or inn == 'Innmarksbeite'  or inn == 'Tettbebyggelse':
        return 5
    elif inn == 'ÅpentOmråde':
        return 6
    else:
        return 7"""


arcpy.management.CalculateField(arealdekkeflate_innfil, "Hierarki", "hirarki_maker(!objtype!)", "PYTHON3", codeblock)</pre>
</div>
</div>
<div class="paragraph">
<p><span class="green">Partisjonerer arealdekke i passende biter</span></p>
</div>
<div class="paragraph">
<p><span class="blue">Filepath</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>Arealdekkeflate_N10_Beredskap =
partition =
partition_layer =</pre>
</div>
</div>
<div class="paragraph">
<p><span class="blue">Klipper opp i partisjoner til bruk videre</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>result = arcpy.management.GetCount(partition)
result = int(result[0]) + 1
i = 1
while i &lt; result:
    Arealdekkeflate_clip = f'\arealdekkeFlate_clip_{i}'
    where_clause = f"OBJECTID = {i}"
    arcpy.management.MakeFeatureLayer(partition, partition_layer)
    arcpy.management.SelectLayerByAttribute(partition_layer, "NEW_SELECTION", where_clause)
    arcpy.analysis.Clip(Arealdekkeflate_N10_Beredskap, partition_layer, Arealdekkeflate_clip)
    i = i + 1</pre>
</div>
</div>
<div class="paragraph">
<p><span class="green">Klipper arealene etter hierarki</span></p>
</div>
<div class="paragraph">
<p>I kapittelet over ble alle objekttyper organisert i et hierarki som bestemmer hvilke objekter som kan klippes mot hverandre. Dette kan være en potensiell feilkilde, ettersom arealer hentes fra ulike kilder og plasseres på forskjellige nivåer i hierarkiet. En løsning på dette kan være å lage et nytt trinn hvor arealene innenfor hvert nivå klippes mot hverandre på nytt. Dette kan vurderes i neste versjon.</p>
</div>
<div class="paragraph">
<p><span class="blue">Filepath</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre></pre>
</div>
</div>
<div class="paragraph">
<p><span class="blue">Selekterer hierarkiverdi og Eraser mot resterende</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>i = 3 # Denne maa gjøres om til max verdi av partisjoner
result = i + 1

b = 1

while b &lt; result:
    a = 1
    c = a + 1
    Arealdekkeflate_clip = f'\\arealdekkeFlate_clip_{b}'
    where_clause = f"Hierarki = {a}"
    out_feature_class = f'\\arealdekkeFlate_bevar_{b}_{a}'
    erase_out_feature_class = f'\\arealdekkeFlate_erase_{b}_{c}'
    arcpy.analysis.Select(Arealdekkeflate_clip, out_feature_class, where_clause)
    arcpy.analysis.Erase(Arealdekkeflate_clip, out_feature_class, erase_out_feature_class)
    a = a + 1
    while a &lt; 8: #Hirarkiet gaar til 7 og vil derfor kun itterere igjenom 7 hierarkiverdier.
        c = a + 1
        where_clause = f"Hierarki = {a}"
        out_feature_class = f'\\arealdekkeFlate_bevar_{b}_{a}'
        Arealdekkeflate_clip = f'\\arealdekkeFlate_erase_{b}_{a}'
        erase_out_feature_class = f'\\arealdekkeFlate_erase_{b}_{c}'
        arcpy.analysis.Select(Arealdekkeflate_clip, out_feature_class, where_clause)
        arcpy.analysis.Erase(Arealdekkeflate_clip, out_feature_class, erase_out_feature_class)
        a = a + 1
    b = b + 1</pre>
</div>
</div>
<div class="paragraph">
<p><span class="blue">Ny append til ferdig arealdekke for N10 Beredskap</span></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ledninger">5. <strong>Ledninger</strong></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_innledning_3">5.1. Innledning</h3>
<div class="paragraph">
<p>Per dags dato eksisterer det to kilder for ledningsdata til N10 Beredskap. NRL, Nasjonalt register over luftfartshindre og FKB-Ledninger. I første omgang er FKB-Ledning valgt som kilde på grunn av større fullstendighet i FKB-Ledning sammenlignet med NRL. Det er fortsatt ikke fastsatt hvilke av de to som vil være primærkilde.</p>
</div>
<div class="paragraph">
<p>I tillegg eksisterer det to databaser med ulik data av FKB-Ledning.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>FKB-Ledning leveranse Geonorge</strong><br>
FKB-Ledning som er tilgjengerlig i Geonorge har ikke med ledninger av trase med lavspent. Det er vedtatt i Geovekst at lavspent ikke skal leveres ut gratis og skal ikke være med i kartprodukter uten tjenestlige behov. N10 Beredskap skal kun leveres til forsvaret og vi mener at det er tjenestlige behov for lavspent. Geovekst er informert.</p>
</li>
<li>
<p><strong>FKB-Ledning fellesdatabase</strong><br>
FKB-Ledning som ligger i fellesdatabasen har med lavspent, men dette er veldig varierende fra kommune til kommune hvor mye som er lagt inn. Det er i noen områder så mange lavspentlinjer med at dette må generaliseres bort. Vi har valgt å ta bort alle lavspentlinjer som ligger i tettbebyggelse.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_kilde">5.2. Kilde</h3>
<table style="background-color: #f0f0f0;">
  <tr>
    <td>N10 Beredskap henter ledninger fra FKB-Ledninger med lavspentlinjer fra fellesdatabasen og ikke fra geonorge.</td>
  </tr>
</table>
</div>
<div class="sect2">
<h3 id="_kode_2">5.3. Kode</h3>
<div class="sect3">
<h4 id="_generaliserig_av_ledninger">5.3.1. Generaliserig av ledninger</h4>
<div class="paragraph">
<p>Dette kapittelet inneholder en del endring av kildemodell til N10 modell. Tilpassninger og endringer kommer i neste kapittel.</p>
</div>
<div class="paragraph">
<p><mark>Ledninger</mark></p>
</div>
<div class="paragraph">
<p><span class="red">Lagringsplass</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>#Henter data
FKB_ledninger = r"Y:\Kartografi\TG\Kilder\Ledninger\kopi_fellesbasen_des2024.gdb\trase_senterlinje"
FKB_mastomriss = r"Y:\Kartografi\TG\Kilder\Ledninger\kopi_fellesbasen_des2024.gdb\masteomriss_grense"
FKB_mast = r"Y:\Kartografi\TG\Kilder\Ledninger\kopi_fellesbasen_des2024.gdb\mast_punkt"
Tettsted = r"Y:\Kartografi\TG\Kilder\Tettsteder_2023_SSB\Befolkning_0000_Norge_25833_Tettsteder2023_FGDB.gdb\tettsted"

FKB_Ledninger_copy =
lavspent_layer =
Tettbebyggelse_layer =
FKB_Ledning_dissolve =
FKB_ledning_FL =
FKB_Ledning_end_start_point =
Linjer_aleine =
linjer_aleine_layer =
buffer_ledning =
FKB_mast_copy_layer =
buffer_ledning_layer =
FKB_mast_polygon =
FKB_mast_ved_ledning =
FKB_mast_uten_ledning =</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">projeksjonen må med, dette er noen ganger problematisk ved innhenting av FKB data fra Geonorge</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>sr = arcpy.SpatialReference("ETRS_1989_UTM_Zone_33N")

arcpy.management.DefineProjection(FKB_ledninger, sr)
arcpy.management.DefineProjection(FKB_mastomriss, sr)
arcpy.management.DefineProjection(FKB_mast, sr)</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">Fjerner lavspentlinjer i Tettbebyggelse</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>arcpy.management.CopyFeatures(FKB_ledninger, FKB_Ledninger_copy)
arcpy.management.MakeFeatureLayer(FKB_Ledninger_copy, lavspent_layer)
arcpy.management.SelectLayerByAttribute(lavspent_layer,  "NEW_SELECTION", "hovedbruk = 'lavspent'")
arcpy.management.MakeFeatureLayer(Tettsted, Tettbebyggelse_layer)
arcpy.management.SelectLayerByLocation(lavspent_layer, 'INTERSECT', Tettbebyggelse_layer, "", 'SUBSET_SELECTION', "NOT_INVERT")
arcpy.management.DeleteRows(lavspent_layer)</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">Sletter små linjer som ligger for seg selv</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>arcpy.management.Dissolve(FKB_Ledninger_copy, FKB_Ledning_dissolve, "hovedbruk", "", "SINGLE_PART", "UNSPLIT_LINES", "")
arcpy.management.FeatureToLine(FKB_Ledning_dissolve, FKB_ledning_FL)
arcpy.management.FeatureVerticesToPoints(FKB_ledning_FL, FKB_Ledning_end_start_point, "BOTH_ENDS")
arcpy.analysis.SpatialJoin(FKB_Ledning_dissolve, FKB_Ledning_end_start_point, Linjer_aleine)
arcpy.management.MakeFeatureLayer(Linjer_aleine, linjer_aleine_layer)
arcpy.management.SelectLayerByAttribute(linjer_aleine_layer, "NEW_SELECTION", '"Join_Count"= 2')
arcpy.management.SelectLayerByAttribute(linjer_aleine_layer, "SUBSET_SELECTION", '"senterlinje_Length" &lt; 100')
arcpy.management.DeleteRows(linjer_aleine_layer)</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">Sletter linjer som er korte og har en dead-end.</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>arcpy.management.SelectLayerByAttribute(linjer_aleine_layer, "NEW_SELECTION", '"Join_Count"= 1')
arcpy.management.SelectLayerByAttribute(linjer_aleine_layer, "SUBSET_SELECTION", '"senterlinje_Length" &lt; 500')
arcpy.management.DeleteRows(linjer_aleine_layer)</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">Henter ut master som ligger innen buffer av ledninger som er hentet ut.</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>arcpy.analysis.Buffer(Linjer_aleine, buffer_ledning, "1 Meters")
arcpy.management.MakeFeatureLayer(buffer_ledning, buffer_ledning_layer)
arcpy.management.MakeFeatureLayer(FKB_mast, FKB_mast_copy_layer)
arcpy.management.SelectLayerByLocation(FKB_mast_copy_layer, 'INTERSECT', buffer_ledning_layer)
arcpy.analysis.Select(FKB_mast_copy_layer, FKB_mast_ved_ledning)</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">Legger sammen mastene.</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>arcpy.management.Append(FKB_mast_uten_ledning, FKB_mast_ved_ledning, "NO_TEST", "", "")</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_neste_versjon">5.4. Neste versjon</h3>
<div class="paragraph">
<p>Ledning og vei ligger for nærme hverandre slik det ligger i N10 Beredskap i dag. I neste versjon bør ledning flyttes vekk fra vei for å få ett bedre lesbart kartgrunnlag.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_høydekurver_og_terrengpunkt">6. <strong>Høydekurver og terrengpunkt</strong></h2>
<div class="sectionbody">
<div class="sect3">
<h4 id="_innledning_4">6.1. Innledning</h4>
<div class="paragraph">
<p>I den første versjonen benyttes høydekurver fra 1:20 000 kartproduksjonen, som har en ekvidistanse på 10 meter. I produktspesifikasjonen står det at det skal være 5 meter. I tillegg er høydekurvene tilpasset N10 Beredskap ved å klippe etter Isbre i N10 Beredskap og ikke N50 Kartdata. Planen var å bruke FKB-Høydekurver, men datasettet har flere betydelige mangler som hindrer det i å fungere som en pålitelig kilde for landdekkende kartdata.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>FKB Høydekurver er kuttet av bygninger i Oslo-området<br></p>
</li>
<li>
<p>Det er i noen områder ikke 5 meters kurver, men 20 meter. Se bildet under<br></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="/Bilder/hoydekurver.PNG" alt="alt tekst">
</div>
</div>
<div class="paragraph">
<p>I tillegg er høydekurvelinjene for detaljert og skaper støy i kartbildet. Ekvidistansen i FKB er 1 meter og tanken var å hente ut 5 meterkurvene til videre bruk i N10 Beredskap. Ved senere versjoner bør det vurderes om det skal genereres nye høydekurver for N10 Beredskap.</p>
</div>
<div class="paragraph">
<p>Det er veldig mange terrengpunkt i FKB, og derfor må dataene siles for å kunne brukes i N10 Beredskap. Under kapittel KODE beskrives fremgangsmåten.</p>
</div>
</div>
<div class="sect3">
<h4 id="_kilde_2">6.2. Kilde</h4>
<div class="paragraph">
<p>Terrengpunkt</p>
</div>
<table style="background-color: #f0f0f0;">
  <tr>
    <td>N10 Beredskap henter terrengpunkt fra FKB Høydekurver og FKB terrengpunkt</td>
  </tr>
</table>
<div class="paragraph">
<p>Høydekurver</p>
</div>
<table style="background-color: #f0f0f0;">
  <tr>
    <td>N10 Beredskap henter Høydekurver generert til 1:20 000 plotteserie. Ekvidistansen er 10 meter.</td>
  </tr>
</table>
</div>
<div class="sect3">
<h4 id="_kode_3">6.3. Kode</h4>
<div class="sect4">
<h5 id="_siling_av_terrengpunkt">6.3.1. Siling av terrengpunkt</h5>
<div class="paragraph">
<p><mark>TERRENGPUNKT</mark></p>
</div>
<div class="paragraph">
<p><span class="red">Lagringsplass</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>FKB_forsenkningspunkt =
FKB_terrengpunkt =
FKB_toppunkt =

Partitions_terrengpunkt =
Partitions_terrengpunkt_layer =
N10B_Terrengpunkt =</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">projeksjonen må med, dette er noen ganger problematisk ved innhenting av FKB data</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>sr = arcpy.SpatialReference("ETRS_1989_UTM_Zone_33N")

arcpy.management.DefineProjection(FKB_forsenkningspunkt, sr)
arcpy.management.DefineProjection(FKB_terrengpunkt, sr)
arcpy.management.DefineProjection(FKB_toppunkt, sr)</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">Slår sammen featureclassene med forsenkningspunkter, toppunkter og terrengpunkter</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>arcpy.management.Append([FKB_forsenkningspunkt, FKB_toppunkt], FKB_terrengpunkt)</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">Legger til egenskaper som trengs ved bruk av verktøyet "Thin Spot Hights" i ArcGIS Pro</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>arcpy.management.AddField(FKB_terrengpunkt, "invisibility_field", "SHORT")
arcpy.management.AddField(FKB_terrengpunkt, "HOYDE_HELETALL", "LONG")
arcpy.management.AddField(FKB_terrengpunkt, "Topp_bunnpunkt", "TEXT")</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">Kalkulerer om høyden i FKB. Endrer Høydetekst i FKB til heltall høydetall til bruk i "Thin Spot Hights" i ArcGIS Pro</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>arcpy.management.CalculateField(FKB_terrengpunkt, "HOYDE_HELETALL", "float(!hoyde!)")</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">For at verktøyet skal fungere kan ikke alle terrengpunktene siles sammen men deles opp i partisjoner. 50 000 punkter kjører sammen. Mulig kommune kunne brukes hvis det er ønske om høyeste punkt i kommune</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>arcpy.cartography.CreateCartographicPartitions(FKB_terrengpunkt, Partitions_terrengpunkt, 50000)</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">Verktøyet "Thin Spot Hights" i ArcGIS Pro kjøres med partisjoner. Bruker 500m som ønsket distanse mellom terrengpunktene</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>arcpy.management.MakeFeatureLayer(Partitions_terrengpunkt, Partitions_terrengpunkt_layer)
fcl = Partitions_terrengpunkt_layer
ant = int(arcpy.management.GetCount(fcl).getOutput(0))
ant = ant + 1
i = 1
while i &lt; ant:
    repl_field = "OBJECTID"
    value = i
    sql = '"{}" = {}'.format(repl_field,value)
    print(value)
    arcpy.management.SelectLayerByAttribute(Partitions_terrengpunkt_layer, 'NEW_SELECTION', sql)
    arcpy.topographic.ThinSpotHeights(FKB_terrengpunkt, Partitions_terrengpunkt_layer,"HOYDE_HELETALL","invisibility_field", "Topp_bunnpunkt", "500 Meters")
    i = i + 1</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">Selekterer kun de utvalgte punktene til en featureclass for bruk i N10 Beredskap</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>arcpy.analysis.Select(FKB_terrengpunkt, N10B_Terrengpunkt, "invisibility_field = 0")</pre>
</div>
</div>
<div class="paragraph">
<p><mark>HØYDEKURVER</mark></p>
</div>
<div class="paragraph">
<p>Hoydekurver bør genereres på nytt for N10 Beredskap, hvis det er ett ønske om 5 meters ekvidistanse. Følgene kode er kun for å tilpasse høydekurvene etter ønske om å ha ulik farge på høydekurver over isbre og all annent terreng. Siden Arealdekke er noe annerledes enn det som er i 1:20 000 i dag, må høydekurvene først samles og deretter deles opp. Dette er tidkrevende og datasettet må partisjoneres.</p>
</div>
<div class="paragraph">
<p><span class="red">Lagringsplass</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>hoydekurver_isbre =
hoydekurver =
Hoydekurver_N10_Beredskap =
Partitions_hoydekurver =
Partitions_hoydekurver_layer =
hoydekurver_layer =
hoydekurver_fc =
isbrelag_fc =
Arealdekkeflate_fc =
output_fc =</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">Merger 1:20 000 datasettet</span></p>
</div>
<div class="paragraph">
<p>Setter sammen hoydekurvene fra 1:20 000 produksjonen, fordi isbre aealene er oppdatert siden og isbre analysen må oppdateres</p>
</div>
<div class="listingblock">
<div class="content">
<pre>arcpy.management.Merge([hoydekurver, hoydekurver_isbre], Hoydekurver_N10_Beredskap)</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">Selekterer Isbre fra arealdekkeflate</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>expression =  '"objtype" = \'SnøIsbre\''
arcpy.analysis.Select(Arealdekkeflate_fc, isbrelag_fc, expression)</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">Lager partisjoner for hoydekurvene</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>arcpy.cartography.CreateCartographicPartitions(Hoydekurver_N10_Beredskap, Partitions_hoydekurver, 500000)</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">Deler opp data i partisjoner, i tillegg til angi om det er isbre-hoydekurver eller terreng-hoydekurver</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>arcpy.management.MakeFeatureLayer(Partitions_hoydekurver, Partitions_hoydekurver_layer)
arcpy.management.MakeFeatureLayer(Hoydekurver_N10_Beredskap, hoydekurver_layer)
fcl = Partitions_hoydekurver_layer
ant = int(arcpy.management.GetCount(fcl).getOutput(0))

ant = ant + 1
print(ant)
i = 1
while i &lt; ant:
    repl_field = "OBJECTID"
    value = i
    sql = '"{}" = {}'.format(repl_field, value)
    print(value)

    #Velg objektet fra Partitions_hoydekurver
    arcpy.management.SelectLayerByAttribute(Partitions_hoydekurver_layer, 'NEW_SELECTION', sql)

    #Velg de høydekurver som intersecter Partitions_hoydekurver
    arcpy.management.SelectLayerByLocation(hoydekurver_layer, "INTERSECT", Partitions_hoydekurver_layer)

    #Sjekk om det er noen høydekurver som overlapper
    count_hoydekurver = arcpy.management.GetCount(hoydekurver_layer)[0]

    if int(count_hoydekurver) &gt; 0:  # Hvis det er høydekurver som overlapper
        print(f"Det finnes {count_hoydekurver} høydekurver som overlapper.")

        # Sjekk om det er noen objekter i isbre-laget
        count_isbre = arcpy.management.GetCount(isbrelag_fc)[0]

        if int(count_isbre) &gt; 0:  # Hvis det er objekter i isbre-laget
            print(f"Det finnes {count_isbre} objekter i isbre-laget.")

            # Utfør Clip og Erase hvis begge lagene har data
            arcpy.analysis.Clip(hoydekurver_layer, isbrelag_fc, hoydekurver_isbre + str(value) + "januar")
            arcpy.analysis.Erase(hoydekurver_layer, isbrelag_fc, hoydekurver + str(value) + "januar")
        else:
            print("Ingen objekter i isbre-laget å bruke for Clip eller Erase.")
    else:
        print("Ingen høydekurver som overlapper.")

    i = i + 1</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">Merger isbre høydekurvene for seg</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>import arcpy
import os

fgdb_path =
arcpy.env.workspace = fgdb_path
#Hent alle feature classes i geodatabasen
feature_classes = arcpy.ListFeatureClasses("Hoydekurver_Isbre*",feature_type='polyline')
print(feature_classes)


#Kontroller at vi har feature classes i GDB-en
if not feature_classes:
    print("Ingen feature classes funnet i geodatabasen.")
else:
    #Filnavn for den nye sammenslåtte feature classen
    merged_fc = os.path.join(fgdb_path, "Hoydekurver_Isbre")

    try:
        #Bruk Merge for å slå sammen alle feature classes i GDB-en
        arcpy.Merge_management(feature_classes, merged_fc)
        print(f"Alle feature classes er slått sammen til: {merged_fc}")
    except Exception as e:
        print(f"Feil ved sammenføyning: {e}")</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">Merger terreng høydekurvene for seg</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>import arcpy
import os

fgdb_path =
arcpy.env.workspace = fgdb_path
#Hent alle feature classes i geodatabasen
feature_classes = arcpy.ListFeatureClasses("Hoydekurver_N10*",feature_type='polyline')
print(feature_classes)


#Kontroller at vi har feature classes i GDB-en
if not feature_classes:
    print("Ingen feature classes funnet i geodatabasen.")
else:
    #Filnavn for den nye sammenslåtte feature classen
    merged_fc = os.path.join(fgdb_path, "Hoydekurver")

    try:
        #Bruk Merge for å slå sammen alle feature classes i GDB-en
        arcpy.Merge_management(feature_classes, merged_fc)
        print(f"Alle feature classes er slått sammen til: {merged_fc}")
    except Exception as e:
        print(f"Feil ved sammenføyning: {e}")</pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_neste_versjon_2">6.4. Neste versjon</h4>
<div class="paragraph">
<p>Noen terrengpunkt kan ligge for nærme andre kartelementer og bør generaliseres bort i neste versjon.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_punkt_av_interesse">7. <strong>Punkt av interesse</strong></h2>
<div class="sectionbody">
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>Interessepunkter (POI - Point of interest) inneholder punkter av spesiell interesse i det topografiske grunnkartet som kirker, sykehus, idrettshaller etc.</p>
</div>
</div>
</div>
<div class="paragraph">
<p><strong>Kilde</strong></p>
</div>
<div class="sect3">
<h4 id="_innledning_5">7.1. Innledning</h4>
<div class="paragraph">
<p>I første omgang hentes punkter fra NGF-prosjektet, med begrenset informasjon, men som også vil være nyttig for N10-Beredskap. Alle type interessepunkt vil ikke være tilgjengerlig i første versjon, en vurdering av hva som faktisk er mulig å levere bør vurderes videre.</p>
</div>
</div>
<div class="sect3">
<h4 id="_kilde_3">7.2. Kilde</h4>
<table style="background-color: #f0f0f0;">
  <tr>
    <td>NGF</td>
  </tr>
</table>
</div>
<div class="sect3">
<h4 id="_kode_4">7.3. Kode</h4>
<div class="paragraph">
<p><mark>POI</mark></p>
</div>
<div class="paragraph">
<p><span class="red">Lagringsplass</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>fgdb_path =
gpkg_path =
fgdb_path_ferdig =</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">Transformerer fra GPKG til FGDB</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>arcpy.env.overwriteOutput = True

#Jeg er ikke helt bevandret i geoPackage, men jeg får ikke dette scriptet til å fungere, så lenge jeg ikke legger til alle filene i gpkg i kartbildet i ArcGIS Pro.
#Dette bor være noe man bor tenke paa, hvis det ikke fungerer slik man onser i ettertid og skriver om dette scriptet.

# Opprett en File Geodatabase (FGDB) med samme navn som GeoPackage
fgdb_path = r"Y:\Kartografi\TG\Kilder\POI\POI.gdb"  # Feature class der feltene skal legges til
# Sti til GeoPackage (GPKG)
gpkg_path = r"Y:\Kartografi\TG\Kilder\POI\N10datasett.gpkg"  # GeoPackage fil

walk = arcpy.da.Walk(gpkg_path)

for path, names, filenames in walk:
    for fname in filenames:

        # Splitte teksten ved punktum og ta delene etter det
        deler = fname.split('.')
        if len(deler) &gt; 1:
            fcname = deler[1].strip()  # Fjern eventuelle ledende eller etterfølgende mellomrom
            print(fcname)
            out_feature_class = os.path.join(fgdb_path, fcname)
            print (out_feature_class)
        else:
            print("Punktum finnes ikke i teksten.")
        arcpy.management.CopyFeatures(fname, out_feature_class)</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">Funksjon for å legge til filnavn i et nytt felt før merge</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>def add_source_file_field(feature_classes, fgdb_path):
    """
    Legger til et felt som inneholder filnavnet i hver feature class før sammenslåing.
    """
    source_field = "objtype"  # Navn på det nye feltet som skal lagre kildeinformasjonen

    # Liste for oppdaterte feature classes
    updated_feature_classes = []

    for fc in feature_classes:
        try:
            # Sjekk om feltet allerede finnes, hvis ikke legg det til
            fields = arcpy.ListFields(fc)
            field_names = [field.name for field in fields]

            if source_field not in field_names:
                arcpy.AddField_management(fc, source_field, "TEXT")  # Legg til nytt tekstfelt

            # Oppdater feltet med filnavnet (feature class navn)
            fc_name = os.path.basename(fc)  # Bruker feature class navnet (ikke GDB navnet)

            # Oppdater feltet med kildeinformasjonen (filnavn)
            with arcpy.da.UpdateCursor(fc, [source_field]) as cursor:
                for row in cursor:
                    row[0] = fc_name  # Lagre navnet på feature class som kilde
                    cursor.updateRow(row)

            updated_feature_classes.append(fc)  # Legg til oppdatert feature class til listen

            print(f"Feltet '{source_field}' lagt til og oppdatert i {fc}")

        except Exception as e:
            print(f"Feil ved oppdatering av {fc}: {e}")

    return updated_feature_classes</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">Merger til en featureclass, med type interessepunkt som en av kolonnene</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>arcpy.env.workspace = fgdb_path
# Hent alle feature classes i geodatabasen
feature_classes = arcpy.ListFeatureClasses()

# Filnavn for den sammenslåtte feature classen
merged_fc = os.path.join(fgdb_path_ferdig, "POI_N10_Beredskap")

# Sjekk om det er feature classes å oppdatere og slå sammen
if feature_classes:
    # Legg til kildeinformasjonen før merge
    updated_feature_classes = add_source_file_field(feature_classes, fgdb_path)

    # Slå sammen de oppdaterte feature classene til én
    if updated_feature_classes:
        try:
            arcpy.Merge_management(updated_feature_classes, merged_fc)
            print(f"Alle feature classes er slått sammen til: {merged_fc}")
        except Exception as e:
            print(f"Feil ved sammenføyning: {e}")
else:
    print("Ingen feature classes funnet i geodatabasen.")</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_restriksjonsområder">8. <strong>Restriksjonsområder</strong></h2>
<div class="sectionbody">
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>Restriksjonsområder inneholder:
Forekomster og grenser vernet etter Lov om naturvern og grenser som ikke er tilknyttet administrative områder</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allmenning">8.1. Allmenning</h4>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>område som alle, eller en bestemt gruppe har bruksrett til</p>
</div>
</div>
</div>
<div class="paragraph">
<p><strong>Kilde</strong><br>
Statskog</p>
</div>
</div>
<div class="sect3">
<h4 id="_flyplassavgrensning">8.2. Flyplassavgrensning</h4>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>avgrensning av flyplassområde</p>
</div>
</div>
</div>
<div class="paragraph">
<p><strong>Kilde</strong><br></p>
</div>
</div>
<div class="sect3">
<h4 id="_naturvernområde">8.3. Naturvernområde</h4>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>naturvernområde</p>
</div>
</div>
</div>
<div class="paragraph">
<p><strong>Kilde</strong><br>
Miljødirektoratet</p>
</div>
</div>
<div class="sect3">
<h4 id="_skytefelt">8.4. Skytefelt</h4>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>område for militære avdelingers skarpskyteøvelse til lands og/eller til vanns. Gjelder også testfelt knyttet til våpen- spregningsindustri</p>
</div>
</div>
</div>
<div class="paragraph">
<p><strong>Kilde</strong><br>
Forsvarsbygg, egne datasett ett for land og ett for hav hentes fra Geonorge. De historiske skytefeltene blir tilsendt manuelt.</p>
</div>
</div>
<div class="sect3">
<h4 id="_kode_5">8.5. Kode:</h4>
<div class="paragraph">
<p><mark>Restriksjonsområder</mark></p>
</div>
<div class="listingblock">
<div class="content">
<pre>Skytefelt_hav = Skytefelt i sjø hentet fra Geonorge "Forsvarets skyte- og øvingsfelt i sjø"
Skytefelt_land = Skytefelt på land hentet fra geonorge "Forsvarets skyte- og øvingsfelt land"
Skytefelt_historiske = Tilsendt skytefelt fra forsvarsbygg

Lagringsted = X
N50K_skytefelt = Hentes inn for å lage tamplate for N10B_skytefelt
N10B_skytefelt = output

Lager en tom output-fil tilpasset de egenskapene vi ønsker.
arcpy.management.CreateFeatureclass(Lagringsted, "Skytefelt_forsvaret", "POLYGON", N50K_skytefelt)</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">Definer featureclasses</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>target_fc = N10B_skytefelt
fc1 = Skytefelt_historiske
fc2 = Skytefelt_land
fc3 = Skytefelt_hav</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">Fremgangsmåte til sluttresultat</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>def add_status_field(fc):
    # Sjekk om feltet 'skytefeltstatus' finnes i featureclassen
    fields = [field.name for field in arcpy.ListFields(fc)]
    if 'skytefeltstatus' not in fields:
        # Hvis ikke, legg til feltet
        arcpy.AddField_management(fc, 'skytefeltstatus', 'TEXT')

# Legg til 'skytefeltstatus' i kildedataene hvis det ikke finnes
add_status_field(fc1)
add_status_field(fc2)
add_status_field(fc3)

# Funksjon for å endre objekttypen til 'skytefelt' for alle featureclassene
def update_object_type(fc):
    with arcpy.da.UpdateCursor(fc, ['objtype']) as cursor:  # Bruker 'objtype' i stedet for 'Objekttype'
        for row in cursor:
            row[0] = 'Skytefelt'  # Sett objekttypen til 'Skytefelt'
            cursor.updateRow(row)

# Funksjon for å endre feltnavn fra 'skytefeltNavn' eller 'skytefeltnavn' til 'navn'
def rename_field(fc):
    # Hent alle feltnavn i featureclassen i små bokstaver
    fields = [field.name.lower() for field in arcpy.ListFields(fc)]

    #Endre feltnavn fra skytefeltNavn eller skytefeltnavn til 'navn'
    if 'skytefeltnavn' in fields:  # Dette er for Skytefelt_historiske
        arcpy.AlterField_management(fc, 'skytefeltnavn', 'navn')  # Endre 'skytefeltnavn' til 'navn'
    elif 'skytefeltNavn' in fields:  # Dette er for Skytefelt_land og Skytefelt_hav
        arcpy.AlterField_management(fc, 'skytefeltNavn', 'navn')  # Endre 'skytefeltNavn' til 'navn'

# Omdøp feltene i kildedataene
rename_field(fc1)
rename_field(fc2)
rename_field(fc3)

# Oppdater objekttypen til 'Skytefelt' for alle featureclassene
update_object_type(fc1)
update_object_type(fc2)
update_object_type(fc3)

# Funksjon for å legge til status i target_fc under append
def append_with_status(source_fc, target_fc, status_value):
    # Legg til status for dataene før append
    with arcpy.da.UpdateCursor(source_fc, ['navn', 'skytefeltstatus']) as cursor:
        for row in cursor:
            if row[0]:  # Hvis det finnes et navn
                row[1] = status_value  # Sett statusen
                cursor.updateRow(row)

    Append kildedataene til target_fc
    arcpy.Append_management(source_fc, target_fc, "NO_TEST")

# Legg til status og append dataene
append_with_status(fc1, target_fc, 'Nedlagt')  # Legg til 'Nedlagt' for Skytefelt_historiske (fc1)
append_with_status(fc2, target_fc, 'Brukes')   # Legg til 'Brukes' for Skytefelt_land (fc2)
append_with_status(fc3, target_fc, 'Brukes')   # Legg til 'Brukes' for Skytefelt_hav (fc3)

print("Dataene er vellykket lagt til, og status er oppdatert!")</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_samferdsel">9. <strong>Samferdsel</strong></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Samferdsel er ett viktig tema og som er representert som flate i AR5. Siden vi ikke skal bruke alt for mye tid i startfasen er arealet samferdsel bevart, men med senterlinjer over, slik at samferdsel kan symboliseres som de øvrige kartdatabasene.</p>
</div>
<div class="sect2">
<h3 id="_bane">9.1. Bane</h3>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>teoretisk linje som representerer ett enkelt eller flere parallelle spor som del av en banestrekning</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_kilde_4">9.1.1. Kilde</h4>
<div class="paragraph">
<p>Det eksisterer i hovedsak to mulige kilder for jernbane. BaneNor og FKB - bane. Dette er en av de temaene vi ser nytten av å benytte begge kildene for å oppnå ønsket datasett.</p>
</div>
<div class="paragraph">
<p><strong>BaneNor</strong>
Har flere egenskaper som er ønsket og er beskrevet i  produktspesifikasjonen.</p>
</div>
<div class="paragraph">
<p><strong>FKB - Bane</strong>
Geometrisk mer detaljert. Det er en gjenntakene problem at deler av spesielt jernbanetunnel som forsvinner ved nykonstruksjon av bane i FKB. Dette er informert om til ansvarlige for datasettet.</p>
</div>
</div>
<div class="sect3">
<h4 id="_kode_6">9.1.2. Kode</h4>
<div class="paragraph">
<p>Ingen dokumentasjon i denne omgang</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_snøskuterløype">9.2. Snøskuterløype</h3>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>fastsatte ruter for ferdsel med snøskuter</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_kilde_5">9.2.1. Kilde</h4>
<div class="paragraph">
<p>Miljødirektoratet</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_jernbanestasjon">9.3. Jernbanestasjon</h3>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>representasjonspunkt for stasjon, holdeplass eller godsterminal</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_kilde_6">9.3.1. Kilde</h4>
<div class="paragraph">
<p>BaneNor</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_veglenke">9.4. Veglenke</h3>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>objekttype som representerer lenker i vegnettet Eksempel: NVDB Referanselenkedeler</p>
</div>
<div class="paragraph">
<p><strong>Tilleggsbeskrivelse for produktspesifikasjonen:</strong> Trasé for transportmiddel (f.eks. bil, traktor, ferje) eller gående.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_kilde_7">9.4.1. Kilde</h4>
<div class="paragraph">
<p>Forenklet Elveg</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_vegsperring">9.5. Vegsperring</h3>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>fysisk sperring av vegen</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_kilde_8">9.5.1. Kilde</h4>

</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stedsnavn">10. <strong>Stedsnavn</strong></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_innledning_6">10.1. Innledning</h3>
<div class="paragraph">
<p>Aktuell kilde for stedsnavn er SSR.</p>
</div>
</div>
<div class="sect2">
<h3 id="_dataflyt_ssr_til_n10b">10.2. Dataflyt SSR til N10B</h3>
<div class="paragraph">
<p>Utvalg av informasjon fra SSR og dataflyt fram til stednavntekstforekomster til bruk i N10B må i størst mulig grad foregå automatisk.
Manuell tilpasning av kartografi må unngås så langt som det er mulig.</p>
</div>
</div>
<div class="sect2">
<h3 id="_problemstillinger_knyttet_til_dataflyt_fra_ssr">10.3. Problemstillinger knyttet til dataflyt fra SSR</h3>
<div class="ulist">
<ul>
<li>
<p><strong>Geometrirepresentasjon</strong><br>
I de fleste tilfeller har ikke SSR kurvegeometri for navneobjektene. Et mindre antall SSR-forekomster har flategeometri. Det betyr at navn i N10-Beredskap stort sett blir presentert horisontalt.</p>
</li>
<li>
<p><strong>Utvalg av navneobjekttyper</strong><br>
Det er ikke aktuelt å bruke navneforekomster fra alle navneobjekttyper i SSR i et produkt som N10-Beredskap.
Hvilke forekomster som kan filtreres bort på navneobjekttypenivå vil være gjenstand for videre vurdering.</p>
</li>
<li>
<p><strong>Utvalg av språkvarianter</strong><br>
Mange stedsnavneforekomster har flere språkvarianter, naturlig nok forekommer dette hyppigst i de tre nordligste fylkene. Hvilke språkvarianter som kan filtreres bort vil være gjenstand for videre vurdering.</p>
</li>
<li>
<p><strong>Utvalg av sidenavnsvarianter</strong><br>
Mange stedsnavneforekomster har flere sidenavnsvarianter - dvs. likestilte navn, disse kan være kombinert med flere språkvarianter. Hvilke varianter som kan filtreres bort vil være gjenstand for videre vurdering.</p>
</li>
<li>
<p><strong>Bortvalg basert på geografiske områder</strong><br>
I byer/tettsteder kan det bli for mange navneforekomster som helt/delvis overlapper. Filtrering innenfor geografiske områder må vurderes.</p>
</li>
<li>
<p><strong>Bortvalg basert på konfliktanalyse</strong><br>
Bortvalg av forekomster kan gjøres med konfliktanalyse og klassifisering av elementer fra SSR i et hierarki, f.eks. etter navneobjekttype. Alle elementer i konflikt med elementer høyere i hierarkiet tas bort eller utelates i endelige produkter.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>I testversjonen er det brukt en transformator fra labeling til annotasjon, der håndtering av tekstplassering er gjort ved bruk av ArcGIS Pro. Denne er en enkel versjon og kan jobbes mer med. Det ønskes tilbakemelding på utvalg.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Strukturfeil i SSR</strong><br>
Det finnes forekomster i SSR som ikke er knyttet korrekt sammen på ett felles sted. Dette kan fort skape problemer når uthenting fra SSR og tilhørende kartografisk presentasjon skal baseres på automatikk.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_resultatvurdering">10.4. Resultatvurdering</h3>
<div class="paragraph">
<p>Første testutvalg fra SSR er 100% basert på automatikk. Det forekommer overlappende stedsnavntekster.
Der det er flere språkvarianter/sidenavnsvarianter er alle tatt med.</p>
</div>
<div class="paragraph">
<p>I denne omgang er det sannsynligvis med for mange navneforekomster. Navn på steder der folk samles, idretssanlegg, skoler osv. er ikke tatt bort.</p>
</div>
<div class="paragraph">
<p>Ved å lage et fullstendig prosentasjonoppsett med egne tegneregler (skrifttype, dimensjonering, innretting osv.) og utvalg vil man kunne styre hvilke forekomster som vises i det endelige produktet.</p>
</div>
<div class="paragraph">
<p>Illustrasjoner på noen av de problemstillingen som er nevnt over:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 75%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="inkluder/bilder/SSR_tett_med_forekomster_av_en_navneobjekttype.png" alt="SSR tett med forekomster av en navneobjekttype"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Eksempel på mange forekomster av navn med samme navneobjekttype, her navneobjekttype = kai, innenfor et lite geografisk område. Kan løses med fullstendig bortvalg av enkelte navneobjekttyper..</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 75%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="inkluder/bilder/SSR_mange_språkvarianter.PNG" alt="SSR mange språkvarianter"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Eksempel på navn med ulike varianter av språkkombinasjoner. Rekkefølgen ovenfra og ned for det enkelte navn er justert jfr. språkprioritering for den enkelte forekomst.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 75%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="inkluder/bilder/SSR_sidenavnsvarianter.png" alt="SSR sidenavnsvarianter"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Eksempel på navn med flere sidestilte sidenavnsvarianter.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 75%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="inkluder/bilder/SSR_tett_med_navneforekomster_i_bysentrum.png" alt="SSR tett med navneforekomster i bysentrum"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Eksempel overlappende navneforekomster i bysentrum.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 75%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="inkluder/bilder/SSR_språkvarianter%20ikke_koblet_på_ett_stedsnummer.png" alt="SSR språkvarianter ikke koblet på ett stedsnummer"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Eksempel på strukturfeil i SSR. Språkvariantene må her kobles inn på samme stedsnummer.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_kode_7">10.5. Kode</h3>
<div class="paragraph">
<p>Verktøyet som er brukt til produksjon av testdata er en variant av en såkalt FYMASS-oppgave som brukes ved uthenting av navn fra SSR til bruk i N5-raster. Ytre styremekanisme er stort sett lik, men det er laget egne N10B-varianter av utvalgsmekanismer for navneobjekttyper og andre produkttilpasninger.</p>
</div>
<div class="paragraph">
<p>Kode finnes på <a href="https://github.com/kartverket/fymass_n5pres_ssr_til_stedstekst" class="bare">https://github.com/kartverket/fymass_n5pres_ssr_til_stedstekst</a></p>
</div>
<div class="paragraph">
<p>Liste over navneobjekttyper som filtreres <span class="underline">bort</span> fra N10B-dataflyten finnes her: <a href="https://github.com/kartverket/fymass_n5pres_ssr_til_stedstekst/tree/master/utv" class="bare">https://github.com/kartverket/fymass_n5pres_ssr_til_stedstekst/tree/master/utv</a></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_bygninger_og_anlegg">11. <strong>Bygninger og anlegg</strong></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_innledning_7">11.1. Innledning</h3>
<div class="paragraph">
<p>Aktuell kilde for grupperingen bygninger og anlegg i N10 Beredskap er i de fleste tilfeller FKB-datasett. Supplering fra andre datasett i form av f.eks. POI-er for uttegning av symboler er aktuelt.</p>
</div>
</div>
<div class="sect2">
<h3 id="_kilder_2">11.2. Kilder</h3>
<div class="ulist">
<ul>
<li>
<p><strong>FKB-Arealbruk</strong><br></p>
</li>
<li>
<p><strong>FKB-Bygning</strong><br>
Omrissgeometri hentes fra FKB-Bygning.</p>
</li>
<li>
<p><strong>FKB-BygnAnlegg</strong><br>
De fleste objekttyper som brukes i N10 Beredskap kommer fra dette FKB-datasettet.
Objekttype Navigasjonsinstallasjon fra FKB-datasettet brukes ikke.</p>
</li>
<li>
<p><strong>FKB-Ledning</strong><br>
Bruk av data fra FKB-Ledning er beskrevet i eget kapittel.</p>
</li>
<li>
<p><strong>FKB-Vann</strong><br>
Kun et fåtall objekttyper hentes fra dette datasettet.</p>
</li>
<li>
<p><strong>FKB-Veg</strong><br>
Kun et fåtall objekttyper hentes fra dette datasettet.</p>
</li>
<li>
<p><strong>N50K</strong><br>
Henter ut Lysløype, Sykehus, Turisthytte, Hoppbakke, Pir, Molo, SpesiellDetalj, Flytebrygge, Campingplass, Parkeringsområde og Reingjerde. Henter fra N50, når objektet ikke eksisterer som geometritype i FKB eller at objekttypen ikke eksisterer i FKB.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>I FKB er registrering av enkelte objekttyper opsjonelt, det kan gjelde for alle eller noen av områdestandardene (A, B, C eller D). Dette kan føre til at N10B-datasettet ikke blir homogent over større områder. For eksempel er registrering av objekttype Parkeringsområde i FKB-Veg opsjonelt i alle områdestandardene.</p>
</div>
</div>
<div class="sect2">
<h3 id="_tilleggsbetingelser">11.3. Tilleggsbetingelser</h3>
<div class="paragraph">
<p>En av utfordringene ved buk av FKB-data som kilde er få til god håndtering av alle tilleggsbetingelser av ulike typer som er beskrevet i datamodellen. Det gjelder varianter av geometribegrensninger for lengde, areal, høyde, øyer i flategeometri samt omgjøring av geometrirepresentasjon. I tillegg må man vurdere egne bortvalgsmekanismer innenfor enkelte geografiske områder, f.eks. innenfor områder definert som by/tettsted.</p>
</div>
<div class="paragraph">
<p>Objekter som har stor utstrekning kan være registrert på ulike tidspunkt, med ulike målemetoder og/eller i ulike prosjekter. Dette fører til behov for å slå sammen objektforekomster før vurdering mot andre kriterier som f.eks. minimumslengde.
Dersom sammenslåing droppes vil konsekvensen bli at mange enkeltforekomster som geometrisk henger sammen ikke oppfyller tileeggsbetingelser og dermed ikke blir med over i avledet datasett.</p>
</div>
<div class="paragraph">
<p>Produktspesifikasjonen sier ingen ting om siling/tynning av geometri.</p>
</div>
</div>
<div class="sect2">
<h3 id="_resultatvurdering_2">11.4. Resultatvurdering</h3>
<div class="paragraph">
<p>De gitte verdiene for diverse tilleggskriterier fører til at objektforeomstene fra FKB beholder en stor detaljeringsgrad.</p>
</div>
<div class="paragraph">
<p>Noen forekomster forekommer i betydelig grad i flere nivåer vertikalt, f.eks. er det ofte gjerde på toppen av en mur.</p>
</div>
<div class="paragraph">
<p>Opprinnelig FKB-geometri beholdes. Det fører til at langs samferdelsinfrastruktur som f.eks. jernbane vil gjerder og samferdselsgeometrien ligg svært tett.</p>
</div>
<div class="paragraph">
<p>I innledende testing er følgende N10B-objekttyper hentet fra FKB-data:</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 50%;">
<caption class="title">Tabell 1. N10B-objekttyper fra FKB-data</caption>
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Objekttypenavn</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bygning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gjerde</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Grunnmur</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mur</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Oppdrettslokalitet</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parkeringsområde</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pipe</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ruin</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Skjerm</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Slipp</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Svømmebasseng</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Takoverbygg</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Taubane</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tribune</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Vindturbin</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Voll</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_forslag_til_endring_i_produktspesifikasjonen">11.5. Forslag til endring i Produktspesifikasjonen</h3>
<div class="paragraph">
<p>Det er vurdert slik at kriteriene for N10 Beredskap, spesielt anleggslinjer er noe unøyaktige og trenger å spesifiseres. Det er i første versjon lagt til ett forslag for å kunne gi ett bedre kartografisk presentasjon.</p>
</div>
<div class="paragraph">
<p>Forslag til kriterie:
Anleggslinjer untatt Flateavgrensning, Slipp og Taubane skal ikke ligge i tettbebyggelse eller bymessigbebyggelse samt ikke ligge nærmere 20 meter fra vei eller bane.
Anleggslinjer skal ikke overlappe hverandre og vil prioriteres i denne rekkefølgen:</p>
</div>
<div class="paragraph">
<p>Flateavgrensning
Flytebrygge
Taubane
Hoppbakke
Idrettsanlegg
Lysløype
Skytebaneinnretning
Rørgate
SpesillDetalj
Pir
Voll
Skjerm
Mur
Gjerde
Grunnmur
Ruin</p>
</div>
<div class="paragraph">
<p>Videre er anbefalingen at slipp heller blir en del av point of interest, siden denne informasjonen er umulig å lese/forstås i ett kart. I Kode, ligger forslaget på hvordan denne generaliseringen kan gjøres.</p>
</div>
</div>
<div class="sect2">
<h3 id="_kode_8">11.6. Kode</h3>
<div class="paragraph">
<p>Omkodinger og testing er utført v.h.a. FYSAK-makroer med Python-overbygning.</p>
</div>
<div class="paragraph">
<p>Makroene er det viktigste, Python-koden er hovedsaklig brukt til å administrere dataflyt.</p>
</div>
<div class="sect3">
<h4 id="_forslag_til_endring_i_kriterie_anleggslinje">11.6.1. Forslag til endring i kriterie Anleggslinje:</h4>
<div class="paragraph">
<p><mark>Anleggslinjer</mark></p>
</div>
<div class="paragraph">
<p>Det er viktig å selektere ut de flateavgrensningene som ikke ligger til en bygning.</p>
</div>
<div class="paragraph">
<p>Reingjerde som hentes fra N50K nå i førsteomgang legges ammen med gjerde fra FKB og får egenskapen REingjerde i GjerdeType.</p>
</div>
<div class="paragraph">
<p><span class="red">Lagringsplass</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>#Anleggslinjer lagring
Anleggslinjer_FKB =
Arealdekke =
Vei =
Bane =

Arealdekke_Tettbebyggelse_og_bymessigbebyggelse =
Buffer_vei_og_bane =
Bufferbane =
erase_anleggslinjer =
Anleggslinjer_N10B =</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">Henter ut tettbebyggelse og bymessigbebyggelse</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>Selection = "objtype = 'Tettbebyggelse' Or objtype = 'BymessigBebyggelse'"
arcpy.analysis.Select(Arealdekke, Arealdekke_Tettbebyggelse_og_bymessigbebyggelse, Selection)</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">Legger på buffer rundt vei og bane</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>arcpy.analysis.Buffer(Vei, Buffer_vei_og_bane, "20 meters")
arcpy.analysis.Buffer(Bane, Bufferbane, "20 meters")</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">Legger sammen alle arealene som skal brukes for å selektere vekk linjer som blir kartografisk støy i 1:10 000</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>arcpy.management.Merge
([Buffer_vei_og_bane, Bufferbane, Arealdekke_Tettbebyggelse_og_bymessigbebyggelse], erase_anleggslinjer)</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">Fjerner alle linjer som ikke skal ligge i tettbebyggelse, bymessigbebyggelse og nærmere en vei og bane enn 20 meter.</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>#OBS OBS, denne er ikke med enda

output_feature_class = Anleggslinjer_N10B  # Ny feature class som skal inneholde de gjenværende objektene

# Lag et spatial layer
arcpy.MakeFeatureLayer_management(Anleggslinjer_FKB, "feature_layer")

# Definer hvilke objekttyper som skal unngås (ikke inkluderes i fjerningen)
excluded_types = ["Flateavgrensning", "Taubane", "Slipp"]

# Bygg en spørring for å selektere objekter som ikke er i excluded_types
query = f"\"OBJTYPE\" NOT IN ({', '.join([f'{type!r}' for type in excluded_types])})"

# Selektér objektene som ikke skal fjernes
arcpy.SelectLayerByAttribute_management("feature_layer", "NEW_SELECTION", query)

# Nå kan du gjøre Erase-analysen, men ikke inkludere de objektene med de ekskluderte typene
arcpy.analysis.Erase("feature_layer", erase_anleggslinjer, Anleggslinjer_N10B)

# Nå, lag en liste av de objektene som ikke skal slettes, og legg dem til i den nye feature class
# Selektér de objektene som har blitt ekskludert fra Erase-prosessen
query_excluded = f"\OBJTYPE\" IN ({', '.join([f'{type!r}'for type in excluded_types])})"
arcpy.SelectLayerByAttribute_management("feature_layer", "NEW_SELECTION", query_excluded)

# Append de ekskluderte objektene til den nye feature class
arcpy.Append_management("feature_layer", Anleggslinjer_N10B, "NO_TEST")

print("Erasing and appending completed successfully.")</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">#Det er også intern konflikt mellom objekttypene. Setter først opp ett hierarki for utgangspunkt til videre eliminering.</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>arcpy.management.AddField(Anleggslinjer_N10B, "Hirarki", "SHORT")

codeblock = """
def hierarki(objtype):
    if objtype == "Flateavgrensning":
        return 1
    elif objtype == "Taubane":
        return 2
    elif objtype == "Hoppbakke":
        return 3
    elif objtype == "Idrettsanlegg":
        return 4
    elif objtype == "Lysløype":
        return 5
    elif objtype == "Skytebaneinnretning":
        return 6
    elif objtype == "Rørgate":
        return 7
    elif objtype == "Reingjerde":
        return 8
    elif objtype == "SpesiellDetalj":
        return 9
    elif objtype == "Voll":
        return 10
    elif objtype == "Skjerm":
        return 11
    elif objtype == "Mur":
        return 12
    elif objtype == "Gjerde":
        return 13
    elif objtype == "Grunnmur":
        return 14
    elif objtype == "Ruin":
        return 15
    elif objtype == "Pir":
        return 16
    else:
        return 17
        """
Expression =  "hierarki(!OBJTYPE!)"

Expression =  "hierarki(!OBJTYPE!)"


arcpy.management.CalculateField(Anleggslinjer_N10B, "Hirarki", Expression, "PYTHON3", codeblock)</pre>
</div>
</div>
<div class="paragraph">
<p><span class="red">Går igjennom anleggslinjer og prioriterer etter hierarki, hva som skal med i N10 Beredskap. Er linjene nærmere en 20 meter slettes objekt med laves prioritet.</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre># Set input feature class
in_feature_class = Anleggslinjer_N10B

# Lavere tall representerer høyere prioritet (f.eks. 1 = høyest prioritet)
hierarchy_field = "Hirarki"

# Set input feature class and output feature class (buffered and cleaned)
output_feature_class =

# Opprett et spatial layer fra feature class
arcpy.MakeFeatureLayer_management(in_feature_class, "feature_layer")

# Få unike prioritetverdier i hierarkiet
priority_values = set()
with arcpy.da.SearchCursor(in_feature_class, [hierarchy_field]) as cursor:
    for row in cursor:
        priority_values.add(row[0])

# Sorter prioritetverdiene (laveste verdier først)
sorted_priorities = sorted(priority_values)

# Gjenta prosessen for hver prioritet (fra høyest til lavest)
for priority in sorted_priorities:
    print(f"Processing priority {priority}...")

    # Selektér objektene med den nåværende prioriteten (de som lager bufferen)
    query = f"\"{hierarchy_field}\" = {priority}"  # Selektér kun objektene med denne prioriteten
    arcpy.SelectLayerByAttribute_management("feature_layer", "NEW_SELECTION", query)

    # Lag en buffer rundt de valgte objektene (denne prioriteten)
    buffer_distance = "20 meters"  # Juster avstand etter behov
    buffered_features =
    arcpy.analysis.Buffer("feature_layer", buffered_features, buffer_distance)

    # Selektér objektene som overlapper bufferen, men **ikke** den nåværende prioriteten (høyere tallverdi)
    query_overlap = f"\"{hierarchy_field}\" &gt; {priority}"  # Selektér alle objekter med lavere prioritet (høyere tallverdi)
    arcpy.SelectLayerByLocation_management("feature_layer", "INTERSECT", buffered_features, selection_type="NEW_SELECTION")
    arcpy.SelectLayerByAttribute_management("feature_layer", "ADD_TO_SELECTION", query_overlap)

    # Kontroller at seleksjonen ikke er tom før sletting
    count = int(arcpy.GetCount_management("feature_layer").getOutput(0))
    if count &gt; 0:
        print(f"Deleting {count} features due to overlap with priority {priority}.")
        arcpy.DeleteRows_management("feature_layer")
    else:
        print("No features overlap with buffer, skipping deletion.")

    # Lagre de gjenværende objektene i en ny feature class
    output_feature_class = f"{output_gdb}\\{output_feature_class_base}_{priority}"
    arcpy.CopyFeatures_management("feature_layer", output_feature_class)

    print(f"Completed processing for priority {priority}.")

print("Script complete.")

#Anleggspunkt#

Anleggspunkt inneholder også litt fra FKB og N50K. Ut i fra produktspesifikasjonen hentes inn punkt og noen genereres fra FKB, som er areal men innenfor ett gitt kriterie.

Fra N50K: Gruve, Campingplass, Hoppbakke, og parkeringsområde
Fra FKB: Pipe, Vindturbin og Tank

OBS! Tank er generert som punkt i fra areal fra FKB under 50 KVM. Bør endre kriteriet fra 100 til 50.

#Master#

Har hentet ut mast fra både FKB og NRL:
De fleste mastene skal kun være med ved overlapp med ledning, men vi har valgt å ta med noen ekstra.

#Anleggsområde#

Alle objektene kommer fra FKB.

== *Begrensningskurver*
//Begrensningskurver

====
Begrensningskurver er linjen som avgrenser polygonet arealdekkeflate.
====

*Kilde*
Genererte, AR5, N50K, FKB Arealbruk og SSB

==== Innledning
Det ligger viktig informasjon på begrensningskurvene og denne informasjonen fra kildene skal bevares så godt det lar seg gjøre. Det er imidlertidig slik at arealene klippes mot hverandre i ett hierarki og noen linjer vil derfor oppstå som nye ved sammensying av arealdekkeflate i N10 Beredskap.

For å løse dette har vi valgt å generere nye begrensningskurver for arealdekke og gjøre en overlayanalyse og overføre egenskaper fra der geometrien er helt lik som kilden.

Dette er tidskrevende men informasjonen fra begrensningskurvene er så viktig, at vi anser dette som essensielt for resultatet. I testversjonen har vi ikke fått med begrensningskurver.</pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Versjon 1.0<br>
Last updated 2025-04-11 12:30:12 +0200
</div>
</div>
</body>
</html>